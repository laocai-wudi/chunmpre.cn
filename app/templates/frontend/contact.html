{% extends "frontend/base.html" %}

{% block title %}联系我们 - 东莞春鸣精密机械有限公司{% endblock %}

{% block content %}
<section class="contact-section py-12">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-primary mb-4">联系我们</h2>
            <div class="w-24 h-1 bg-accent mx-auto mb-6"></div>
            <p class="text-gray-600 mt-4 max-w-2xl mx-auto">如有任何问题或需求，请通过以下方式与我们联系，我们将竭诚为您服务</p>
        </div>
        
        <div class="flex flex-col lg:flex-row gap-8 mb-16">
            <!-- 联系信息 -->
            <div class="lg:w-1/3 bg-gray-50 p-8 rounded-xl shadow-sm">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">联系方式</h3>
                
                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-map-marker-alt text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-1">公司地址</h4>
                            <p class="text-gray-600">广东省东莞市长安镇涌头社区宏业中路4号汇通科技园</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-phone-alt text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-1">联系电话</h4>
                            <p class="text-gray-600">138-0963-0779（张）</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-envelope text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-1">电子邮箱</h4>
                            <p class="text-gray-600">微信：13809630779</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-clock text-blue-600 text-xl"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-1">工作时间</h4>
                            <p class="text-gray-600">周一至周六：8:30-17:30</p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <h4 class="font-semibold text-gray-800 mb-4">关注我们</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors">
                            <i class="fab fa-weixin"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-blue-400 rounded-full flex items-center justify-center text-white hover:bg-blue-500 transition-colors">
                            <i class="fab fa-weibo"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-white hover:bg-gray-900 transition-colors">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- 联系表单 -->
            <div class="lg:w-2/3">
                <div class="bg-white p-8 rounded-xl shadow-md">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">发送消息</h3>
                    
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }} mb-6 p-4 rounded-lg" role="alert">
                                    {{ message }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                    
                    <form id="contact-form" method="POST" action="{{ url_for('main.contact') }}">
                        {% if config.WTF_CSRF_ENABLED %}
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        {% endif %}
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="name" class="block text-gray-700 text-sm font-medium mb-2">姓名 <span class="text-red-500">*</span></label>
                                <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="email" class="block text-gray-700 text-sm font-medium mb-2">邮箱 <span class="text-red-500">*</span></label>
                                <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="phone" class="block text-gray-700 text-sm font-medium mb-2">电话 <span class="text-red-500">*</span></label>
                                <input type="tel" id="phone" name="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div>
                                <label for="subject" class="block text-gray-700 text-sm font-medium mb-2">主题 <span class="text-red-500">*</span></label>
                                <select id="subject" name="subject" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">请选择主题</option>
                                    <option value="product_inquiry">产品咨询</option>
                                    <option value="price_inquiry">价格咨询</option>
                                    <option value="technical_support">技术支持</option>
                                    <option value="after_sales_service">售后服务</option>
                                    <option value="cooperation">商务合作</option>
                                    <option value="others">其他</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="message" class="block text-gray-700 text-sm font-medium mb-2">留言内容 <span class="text-red-500">*</span></label>
                            <textarea id="message" name="message" rows="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                        </div>
                        
                        <div class="mb-6">
                            <label for="attachment" class="block text-gray-700 text-sm font-medium mb-2">上传附件（可选）</label>
                            <input type="file" id="attachment" name="attachment" class="w-full text-gray-600 border border-gray-300 rounded-lg px-4 py-2">
                            <p class="text-xs text-gray-500 mt-2">支持格式：PDF, Word, Excel, 图片文件。最大文件大小：5MB</p>
                        </div>
                        
                        <div class="flex items-center mb-6">
                            <input id="privacy" name="privacy" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" required>
                            <label for="privacy" class="ml-2 block text-sm text-gray-700">
                                我已阅读并同意 <a href="#" class="text-blue-600 hover:underline">隐私政策</a> <span class="text-red-500">*</span>
                            </label>
                        </div>
                        
                        <div class="flex justify-end">
                            <button type="submit" class="btn-primary w-full">
                                <i class="fas fa-paper-plane mr-2"></i> 发送消息
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- 地图 -->
        <div class="mb-8">
            <div class="rounded-xl overflow-hidden shadow-md" style="height: 400px; background-color: #f0f0f0;">
                <!-- 这里可以放置实际的地图，现在使用占位符 -->
                <div class="w-full h-full flex items-center justify-center">
                    <p class="text-gray-500">地图加载中...</p>
                    <!-- 实际项目中可以替换为嵌入的Google地图或其他地图服务 -->
                    <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m18!..." width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe> -->
                </div>
            </div>
        </div>
        
        <!-- FAQ部分 -->
        <div class="bg-gray-50 p-8 rounded-xl shadow-sm">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">常见问题</h3>
            
            <div class="space-y-4">
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-4 text-left bg-white focus:outline-none flex justify-between items-center">
                        <span class="font-medium text-gray-800">如何获取产品报价？</span>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content px-6 py-4 bg-white border-t border-gray-100 hidden">
                        <p class="text-gray-600">您可以通过联系我们页面的表单提交询价，或直接致电我们的销售热线，我们的销售人员将在24小时内回复您的询价。</p>
                    </div>
                </div>
                
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-4 text-left bg-white focus:outline-none flex justify-between items-center">
                        <span class="font-medium text-gray-800">产品保修期限是多久？</span>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content px-6 py-4 bg-white border-t border-gray-100 hidden">
                        <p class="text-gray-600">我们的标准产品保修期为12个月。对于特定产品，保修期可能会有所不同，详细信息请参考产品说明书或咨询我们的销售人员。</p>
                    </div>
                </div>
                
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-4 text-left bg-white focus:outline-none flex justify-between items-center">
                        <span class="font-medium text-gray-800">你们提供技术支持服务吗？</span>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content px-6 py-4 bg-white border-t border-gray-100 hidden">
                        <p class="text-gray-600">是的，我们提供专业的技术支持服务。我们的技术团队可以为您提供产品安装、操作培训、故障排除等技术支持。您可以通过电话或邮件联系我们的技术支持团队。</p>
                    </div>
                </div>
                
                <div class="border border-gray-200 rounded-lg overflow-hidden">
                    <button class="faq-toggle w-full px-6 py-4 text-left bg-white focus:outline-none flex justify-between items-center">
                        <span class="font-medium text-gray-800">如何申请产品维修服务？</span>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300"></i>
                    </button>
                    <div class="faq-content px-6 py-4 bg-white border-t border-gray-100 hidden">
                        <p class="text-gray-600">您可以通过联系我们页面提交维修申请，或致电我们的售后服务热线。在申请维修时，请提供产品型号、序列号及故障描述，以便我们更好地为您服务。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // FAQ折叠功能
    document.addEventListener('DOMContentLoaded', function() {
        const faqToggles = document.querySelectorAll('.faq-toggle');
        
        faqToggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const icon = this.querySelector('i');
                
                // 切换内容显示状态
                content.classList.toggle('hidden');
                
                // 旋转图标
                if (!content.classList.contains('hidden')) {
                    icon.style.transform = 'rotate(180deg)';
                } else {
                    icon.style.transform = 'rotate(0deg)';
                }
            });
        });
        
        // 表单验证
        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                let isValid = true;
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const phone = document.getElementById('phone').value.trim();
                const subject = document.getElementById('subject').value;
                const message = document.getElementById('message').value.trim();
                const privacy = document.getElementById('privacy').checked;
                
                // 简单验证
                if (!name) {
                    isValid = false;
                    alert('请输入姓名');
                } else if (!email) {
                    isValid = false;
                    alert('请输入邮箱');
                } else if (!phone) {
                    isValid = false;
                    alert('请输入电话');
                } else if (!subject) {
                    isValid = false;
                    alert('请选择主题');
                } else if (!message) {
                    isValid = false;
                    alert('请输入留言内容');
                } else if (!privacy) {
                    isValid = false;
                    alert('请阅读并同意隐私政策');
                }
                
                if (!isValid) {
                    e.preventDefault();
                }
            });
        }
    });
</script>
{% endblock %}